import{j as e,r as u,F as R,a as fe,L as E,u as A,m as M,b as te,d as se,c as oe,e as be,f as ge,A as K,g as we,h as je,i as ne,k as re,l as ae,n as Y,o as G,p as le,q as ye,s as ve,M as Ne,t as Ce,v as ke,w as Se,x as Fe,y as ie,z as ce,B as Ee,C as Ie,D as De,E as Le}from"./vendor-OrDJbR4Q.js";const O=({image:o,position:s="top-10 right-5",width:n="w-44"})=>e.jsx("div",{className:`absolute ${s} ${n}`,children:e.jsx("img",{src:o,alt:"icon",className:"w-full"})}),Me=({children:o,description:s})=>e.jsxs("section",{className:"flex bg-orange-50 relative flex-col items-center justify-center w-[100vw] h-[100vh] text-center gap-6",children:[e.jsx(O,{image:"/icon1.svg"}),e.jsx(O,{image:"/icon2.svg",position:"right-5 bottom-0"}),e.jsx(O,{image:"/icon3.svg",position:"left-0 bottom-0"}),e.jsx(O,{image:"/icon4.svg",position:"left-0 top-[20%]",width:"w-24"}),e.jsx(O,{image:"/icon5.svg",position:"left-0 top-[10%]",width:"w-24"}),e.jsx("h1",{className:"self-stretch text-4xl md:text-6xl lg:text-8xl font-black text-gray-900",children:o}),e.jsx("p",{className:"sm:text-2xl sm:leading-8 max-w-2xl",children:s}),e.jsx("div",{className:"w-full flex flex-col-reverse justify-center sm:flex-row gap-3 text-sm sm:text-base font-semibold whitespace-nowrap",children:e.jsx("a",{href:"/auth/github",className:"btn btn-secondary px-12",children:"Start Now"})})]}),Te=({navItems:o=[]})=>{const[s,n]=u.useState(!1),t=()=>n(r=>!r);return e.jsxs("div",{className:"sm:hidden",children:[e.jsx("div",{className:"rounded-full p-2 cursor-pointer bg-base-300 shadow-xl",onClick:t,children:s?e.jsx(R,{className:"w-4 h-4"}):e.jsx(fe,{className:"w-4 h-4"})}),e.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 transition-opacity duration-300 z-40 ${s?"opacity-100":"opacity-0 pointer-events-none"}`,children:e.jsxs("div",{className:`fixed bottom-0 left-0 right-0 relative transform transition-transform duration-300 z-50 ${s?"translate-y-0":"translate-y-full"} bg-base-100 shadow-lg`,children:[e.jsx("button",{className:"absolute right-10 bg-black text-white font-bold top-10 shadow-md rounded-full p-2 cursor-pointer",onClick:t,children:e.jsx(R,{className:"w-6 h-6"})}),e.jsx("div",{className:"p-5 flex justify-center items-center min-h-screen",children:e.jsx("ul",{className:"text-center space-y-10",children:o.map(r=>e.jsx("li",{className:"text-xl hover:scale-105",onClick:()=>n(!1),children:e.jsx(E,{to:r.href,children:r.text})},r.text))})})]})})]})},Oe=({navItems:o,brand:s})=>e.jsxs("nav",{className:"navbar sm:justify-center gap-4 fixed bg-base-100 z-40 border-b-2 border-black",children:[e.jsx("img",{width:500,height:500,src:s,className:"w-8 bg-neutral",alt:"logo"}),e.jsx("ul",{className:"hidden sm:menu sm:menu-horizontal px-1",children:o.map(n=>e.jsx("li",{children:e.jsx(E,{to:n.href,children:n.text})},n.text))}),e.jsx("a",{href:"/auth/github",className:"hidden sm:btn sm:btn-neutral sm:btn-sm",children:"Login"}),e.jsx(Te,{navItems:o})]}),Pe=({title:o,description:s,children:n,backgroundColor:t="bg-orange-100"})=>e.jsxs("section",{className:`w-full flex flex-col ${t} items-center justify-center text-center gap-4 py-32 px-10`,children:[e.jsx("h2",{className:"self-stretch mx-auto text-4xl sm:text-7xl max-w-[600px] font-black text-gray-900",children:o}),e.jsx("p",{className:"sm:text-xl sm:leading-8 text-slate-600 max-w-[608px]",children:s}),e.jsx("div",{className:"w-full aspect-[2.56] mt-10 min-w-[350px]",children:n})]}),$e=()=>{const o=A(),s=A(),n=u.useRef(null),t=()=>{const r=window.scrollY;if(n.current){const a=n.current.getBoundingClientRect(),i=window.innerHeight;if(r>=1150){o.set({x:"-0.9573%",opacity:1}),s.set({x:"0.9573%",opacity:1});return}if(a.top<i&&a.bottom>0){const c=Math.min(i,a.bottom)-Math.max(0,a.top),m=a.bottom-a.top,p=Math.max(0,c/m),x=-100+p*100,d=100-p*100;o.set({x:`${x}%`,opacity:p}),s.set({x:`${d}%`,opacity:p})}}};return u.useEffect(()=>(window.addEventListener("scroll",t),window.addEventListener("resize",t),()=>{window.removeEventListener("scroll",t),window.removeEventListener("resize",t)}),[]),e.jsxs("div",{className:"relative flex justify-center items-center h-screen overflow-hidden",ref:n,children:[e.jsx(M.div,{animate:o,className:"absolute mr-[500px]",children:e.jsx("img",{src:"code.png",className:"w-[350px] h-[400px]"})}),e.jsx(M.div,{animate:s,className:"absolute ml-[500px]",children:e.jsx("img",{src:"document.png",className:"w-[700px] h-[700px]"})})]})},Re=({children:o,style:s})=>{const n=A(),t=u.useRef(null);return u.useEffect(()=>{if(t.current){const r=new IntersectionObserver(([a])=>{a.isIntersecting&&(n.start("visible"),r.disconnect())},{threshold:.5});return r.observe(t.current),()=>{r.disconnect()}}},[n]),e.jsx(M.div,{ref:t,initial:"hidden",animate:n,className:s,variants:{hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{type:"spring",damping:8,stiffness:200,mass:.75}}},children:o})};function $({reverse:o=!1,title:s,description:n,image:t}){return e.jsx(Re,{children:e.jsxs("div",{className:`flex w-full items-center justify-center gap-10 max-w-5xl mx-auto pt-36 ${o&&"flex-row-reverse"}`,children:[e.jsx("div",{className:"w-[350px] h-[350px]  relative  overflow-hidden border border-white/10 rounded-2xl box-shadow relative",children:e.jsx("img",{src:t,alt:t,className:"w-full"})}),e.jsxs("div",{className:"grid gap-4 w-[30%] text-start",children:[e.jsx("h2",{className:"text-4xl font-bold tracking-tighter",children:s}),e.jsx("p",{className:"text-base-content/70",children:n})]})]})})}const Ae=({image:o,title:s,description:n,className:t})=>e.jsxs("div",{className:`flex flex-col w-[300px] h-[350px] justify-center items-center shrink-0 gap-2 border-2 border-black p-4 ${t}`,children:[e.jsx("img",{src:o,className:"w-6 shadow-sm aspect-square bg-primary",alt:s}),e.jsx("h3",{className:"text-2xl font-bold",children:s}),e.jsx("p",{className:"text-sm text-base-content/70",children:n})]}),Ue=({children:o,speed:s=1,direction:n="left"})=>{const t=A(),r=u.useRef(null);return u.useEffect(()=>{const a=()=>{const c=r.current;if(c){const m=c.scrollWidth/2,p=n==="right"?-m:0;t.start({x:n==="left"?[-m,0]:[0,-m],transition:{duration:m/100*s,ease:"linear",repeat:1/0,repeatType:"loop"}}),n==="right"&&t.set({x:p})}};a();const i=()=>{setTimeout(a,150)};return window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}},[t,s,n]),e.jsx("div",{className:"overflow-hidden relative",style:{width:"100%",maxWidth:"100vw"},children:e.jsx(te,{features:se,children:e.jsxs(oe.div,{ref:r,className:"flex items-center gap-4 justify-start",animate:t,style:{display:"flex",minWidth:"200%"},children:[o,o," "]})})})},ze=["/programing/1.svg","/programing/2.svg","/programing/3.svg","/programing/4.svg","/programing/5.svg","/programing/6.svg","/programing/7.svg","/programing/8.svg","/programing/9.svg","/programing/10.svg"],Be=()=>e.jsx("section",{className:"w-full flex gap-5 justify-evenly bg-orange-50 max-md:flex-wrap p-10",children:e.jsx(Ue,{children:ze.map((o,s)=>e.jsx("img",{src:o,alt:`Company logo ${s+1}`,width:500,height:500,className:"shrink-0 max-w-full aspect-[1.57] w-[160px]"},s))})}),We=({footerData:o=[],brand:s})=>{const n=new Date().getFullYear();return e.jsxs(e.Fragment,{children:[e.jsxs("footer",{className:"footer p-10 border border-t-2 border-black",children:[o.map((t,r)=>e.jsxs("nav",{children:[e.jsx("h2",{className:"font-bold text-lg",children:t.title}),t.footerNav.map((a,i)=>e.jsx(E,{to:a.href,className:"link link-hover",children:a.link},i))]},r)),e.jsxs("form",{children:[e.jsx("h2",{className:"font-bold text-lg text-base-content/80",children:"Newsletter"}),e.jsxs("fieldset",{className:"form-control w-80",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Enter your email address"})}),e.jsxs("div",{className:"join",children:[e.jsx("input",{type:"text",placeholder:"username@site.com",className:"input text-black input-bordered join-item"}),e.jsx("button",{className:"btn btn-white join-item",children:"Subscribe"})]})]})]})]}),e.jsxs("footer",{className:"footer px-10 py-4 border-t bg-base-300 text-base-content border-base-300",children:[e.jsxs("aside",{className:"items-center grid-flow-col",children:[e.jsx("img",{width:500,height:500,src:s,className:"w-8 bg-primary",alt:"logo"}),e.jsxs("p",{className:"paragraph-small",children:["Â© ",n," Saas. All rights reserved."]})]}),e.jsx("nav",{className:"md:place-self-center md:justify-self-end",children:e.jsxs("div",{className:"grid grid-flow-col gap-4",children:[e.jsx(E,{to:"#",children:"Facebook"}),e.jsx(E,{to:"#",children:"Twitter"}),e.jsx(E,{to:"#",children:"Instagram"})]})})]})]})},V=({children:o,delay:s=0})=>{const{ref:n,inView:t}=be({triggerOnce:!0,threshold:.1}),r={hidden:{opacity:0},visible:{opacity:1,transition:{delay:s,duration:.5,ease:"easeInOut"}}};return e.jsx(te,{features:se,children:e.jsx(oe.div,{ref:n,initial:"hidden",animate:t?"visible":"hidden",variants:r,children:o})})},de="/logo.svg",He={brand:de,navItems:[{text:"Home",href:"/"},{text:"Portfolio",href:"/portfolio"},{text:"About",href:"/about"},{text:"Contact",href:"/contact"}]},qe=[{image:"logo.svg",title:"Organize Your Code",description:"Organize your code into one repository or multiple. Structure your repository using a default layout or your own."},{image:"logo.svg",title:"Transform Multiple Files",description:"Upload up to 4 files at once. Pro users can transform up to 10-20 files at the same time."},{image:"logo.svg",title:"Customize Instructions",description:"Personalize the instructions that appear in the markdown file. Add or delete as needed."},{image:"logo.svg",title:"Multilingual",description:"Write instructions in your preferred language (English, Spanish, Chinese, and more)."},{image:"logo.svg",title:"Play with Your Code",description:"Try our new playground where you can convert code into different programming languages, optimize it, and more."},{image:"logo.svg",title:"Download Your Files",description:"Download your code, the complete directory, or your markdown file with all the documentation you need."}];function ht(){return e.jsxs(e.Fragment,{children:[e.jsx(Oe,{...He}),e.jsxs("div",{children:[e.jsx(Me,{description:"Store your code, create helpful guides, build a component library, or document your code. Our AI tools make it easy.",children:e.jsxs("h1",{children:["Welcome to ",e.jsx("br",{})," Code Library"]})}),e.jsx(Be,{}),e.jsxs(Pe,{title:"How Does It Work?",description:"Just drag your code, and with AI help, you'll get a markdown file with your code documentation.",backgroundColor:"bg-orange-50",children:[e.jsx($e,{}),e.jsx($,{title:"Where Is My Code Stored?",description:"All your code will be stored securely in your GitHub repository. You can easily access and manage your code anytime.",image:"github.svg"}),e.jsx($,{title:"Access to All Your Code?",description:"No, we only request access to your public repositories. Code Library will only create public repositories, ensuring your private code remains private.",image:"access.png",reverse:!0}),e.jsx($,{title:"Multi-Document Select",description:"You can upload up to 4 code files at once, and our system will generate 4 markdown files with documentation. Pro users can upload up to 10 files at the same time for even more convenience.",image:"doc.png"}),e.jsx($,{title:"Powered by OpenAI",description:"With the help of OpenAI, you can upload up to 4 code files at once, and our system will generate 4 markdown files with detailed documentation. Pro users can upload up to 10 files at once.",image:"gpt.png",reverse:!0}),e.jsx("div",{className:"flex flex-wrap w-full gap-10 justify-center pt-36",children:qe.map((o,s)=>e.jsx(V,{delay:.1*s,children:e.jsx(Ae,{...o,Use:!0,a:!0,unique:!0,identifier:!0,instead:!0,of:!0,index:!0,className:s%2===0?"rotate-[-5deg] bg-white":"rotate-[5deg] bg-base-200"})},o.id))}),e.jsxs("div",{className:"flex flex-col items-center justify-center max-w-2xl mx-auto mt-24 gap-4",children:[e.jsx("h2",{className:"text-6xl font-black tracking-tighter",children:"Why use Code Library if I can use GitHub directly?"}),e.jsx("p",{className:"sm:text-2xl sm:leading-8",children:"With Code Library, you can easily drop your code, create documentation, and build your guide or component library. Find all your components in one place and never lose your code."}),e.jsx("a",{href:"/auth/github",className:"btn btn-primary px-12",children:"Start Now"})]})]})]}),e.jsx(We,{brand:de,footerData:[{title:"Company",footerNav:[{link:"About us",href:"#"},{link:"Careers",href:"#"},{link:"Press",href:"#"},{link:"News",href:"#"},{link:"Media kit",href:"#"},{link:"Contact",href:"#"}]},{title:"Support",footerNav:[{link:"Help Center",href:"#"},{link:"FAQs",href:"#"},{link:"Contact Support",href:"#"},{link:"Status",href:"#"}]},{title:"Social Media",footerNav:[{link:"Facebook",href:"https://facebook.com"},{link:"Twitter",href:"https://twitter.com"},{link:"LinkedIn",href:"https://linkedin.com"},{link:"Instagram",href:"https://instagram.com"}]}]})]})}const Ye=({decoration:o,title:s,description:n})=>e.jsxs(V,{className:"flex flex-col gap-2 sm:gap-4 py-16 sm:py-18",children:[o&&e.jsx("span",{className:"badge badge-primary p-4",children:o}),e.jsx("h2",{className:"text-3xl sm:text-5xl lg:text-7xl font-bold",children:s}),e.jsx("p",{className:"text-base-content/70 max-w-[500px]",children:n})]}),Ge=({title:o,description:s,columnReverse:n=!1,flexSize:t})=>{const r=n?"flex-col-reverse":"flex-col";return e.jsxs(E,{to:`/library/${o}`,className:`flex ${r} group justify-between bg-base-100 items-start text-sm p-4 border-2 border-black shadow-2xl rounded-2xl w-[250px] h-[290px] shrink-0 ${t}`,children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-medium",children:o}),e.jsx("p",{className:"text-base-content/70 line-clamp-5",children:s})]}),e.jsxs("div",{className:"flex gap-4 text-primary group-hover:gap-8 transition-all duration-500 ease-in-out",children:[e.jsx("span",{className:"text-sm",children:"Open Library"}),e.jsx(ge,{className:"w-6"})]})]})},ue=()=>e.jsx("div",{className:"skeleton h-screen w-screen"}),z=({popupId:o,title:s,description:n,isOpen:t,onClose:r,isLoading:a,isSuccess:i,isError:c,successMessage:m,errorMessage:p,children:x,customStyle:d="modal-box",onSuccess:l,progress:h})=>{const[g,f]=u.useState(!1);return u.useEffect(()=>{const b=document.getElementById(o);t?b.showModal():b.close();const y=()=>{r&&r()};return b.addEventListener("close",y),()=>{b.removeEventListener("close",y)}},[o,t,r]),u.useEffect(()=>{if(a)f(!1);else if(i||c){f(!0);const b=setTimeout(()=>{f(!1),i&&l&&l()},2e3);return()=>clearTimeout(b)}},[a,i,c,l]),e.jsx("dialog",{id:o,className:"modal",children:e.jsxs("div",{className:`relative bg-base-200 border border-2 border-black shadow-2xl shadow-white/40 ${d}`,children:[e.jsxs("div",{className:"text-center my-10 space-y-1",children:[e.jsx("h2",{className:"font-bold text-3xl",children:s}),e.jsx("p",{className:"text-base-content/70 text-sm",children:n})]}),e.jsxs("div",{className:"relative h-full",children:[e.jsx(K,{children:a&&e.jsxs(M.div,{initial:{opacity:0,x:"-100%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"100%"},transition:{duration:.5},className:"absolute inset-0 flex items-center justify-center z-10 ",children:[h!==void 0&&e.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center",children:e.jsxs("p",{className:"bg-gray-800 text-white text-8xl px-3 py-1 rounded-md",children:[h,"%"]})}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"loading loading-dots loading-lg"}),e.jsx("span",{className:"loading loading-dots loading-lg"}),e.jsx("span",{className:"loading loading-dots loading-lg"}),e.jsx("span",{className:"loading loading-dots loading-lg"})]})]},"loading")}),e.jsx(K,{children:g&&e.jsx(M.div,{initial:{opacity:0,x:"-100%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"100%"},transition:{duration:.5},className:"absolute inset-0 flex items-center justify-center bg-opacity-75 z-10",children:e.jsx("div",{className:`message ${i?"text-green-500":"text-red-500"}`,children:i?m:p})},"message")}),!a&&!g&&e.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"relative",children:x},"form")]}),e.jsx("button",{type:"button",className:"absolute top-5 right-10",onClick:r,children:e.jsx(R,{className:"w-6"})})]})})},B=()=>{const[o,s]=u.useState(!1),[n,t]=u.useState(!1),[r,a]=u.useState(!1),[i,c]=u.useState(!1),m=async p=>{t(!0),a(!1),c(!1);try{await p(),a(!0)}catch{c(!0)}finally{t(!1)}};return u.useEffect(()=>{if(r||i){const p=setTimeout(()=>{r&&s(!1),a(!1),c(!1)},2e3);return()=>clearTimeout(p)}},[r,i]),{isModalOpen:o,setIsModalOpen:s,isLoading:n,isSuccess:r,isError:i,handleLoading:m,setIsError:c,setIsSuccess:a}},me=u.createContext(),W=()=>u.useContext(me),xt=({children:o})=>{const{isLoading:s,isSuccess:n,isError:t,handleLoading:r,isModalOpen:a,setIsModalOpen:i}=B(),[c,m]=u.useState([]),[p,x]=u.useState(!0),[d,l]=u.useState(""),[h,g]=u.useState(""),[f,b]=u.useState(null);u.useEffect(()=>{const j=async()=>{try{const N=await fetch("/api/user/profile",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(N.ok){const D=await N.json();b(D.profile)}else console.error("Failed to fetch user profile")}catch(N){console.error("Error:",N)}},I=async()=>{try{const N=await fetch("/api/repositories/library",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(N.ok){const D=await N.json();m(D.repositories)}else console.error("Failed to fetch repositories")}catch(N){console.error("Error:",N)}finally{x(!1)}};j(),I()},[]);const y=async()=>{const j=await fetch("/api/create-repository",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:d,description:h})});if(j.ok){const I=await j.json();m(N=>[...N,I.repository])}else throw console.error("Failed to create repository"),new Error("Failed to create repository")},L=j=>{j.preventDefault(),r(y)};return e.jsx(me.Provider,{value:{repositories:c,loading:p,isLoading:s,isSuccess:n,isError:t,isModalOpen:a,setIsModalOpen:i,newRepoName:d,setNewRepoName:l,newRepoDescription:h,setNewRepoDescription:g,onSubmit:L,userProfile:f},children:o})};function ee({to:o,icon:s,title:n}){return e.jsxs(E,{to:o,className:"rounded-2xl flex items-center gap-2",children:[s&&e.jsx(s,{className:"w-6 "}),e.jsx("p",{className:"text-sm",children:n})]})}function Ve(){const o=async()=>{try{(await fetch("/signout",{method:"GET",credentials:"include"})).ok?window.location.href="/":console.error("Failed to sign out")}catch(s){console.error("An error occurred during sign out",s)}};return e.jsxs("div",{className:"flex flex-col gap-4 mt-auto relative z-30",children:[e.jsx(ee,{to:"/userPrompts",icon:we,title:"Custom Prompts"}),e.jsx(ee,{to:"/customizeprompt",icon:je,title:"Create Prompt"}),e.jsx("button",{className:"btn btn-secondary btn-sm",onClick:o,children:"Sign out"})]})}const _=({children:o})=>{const{userProfile:s}=W();return e.jsxs("div",{className:"p-4 w-[20%] bg-base-100 border-r-2 border-black shadow-2xl overflow-y-scroll flex flex-col",children:[s&&e.jsxs("div",{className:"avatar items-center gap-2",children:[e.jsx("div",{className:"w-12 rounded-full",children:e.jsx("img",{src:s.photos[0].value,alt:"Profile",className:"rounded-full"})}),e.jsx("p",{className:"font-semibold",children:s.username})]}),o,e.jsx(Ve,{})]})},ft=()=>{const{repositories:o,loading:s,isLoading:n,isSuccess:t,isError:r,isModalOpen:a,setIsModalOpen:i,newRepoName:c,setNewRepoName:m,newRepoDescription:p,setNewRepoDescription:x,onSubmit:d}=W(),l=ne(),h=()=>{i(!1)},g=()=>{console.log("handleSuccess called"),console.log("New Repo Name:",c),i(!1),l(`/library/library-${c}`)};return e.jsxs("div",{className:"flex bg-orange-50 h-screen",children:[e.jsx(_,{}),e.jsxs("div",{className:"p-10 w-full h-full overflow-y-scroll",children:[e.jsx(Ye,{title:"Select your library",decoration:"Libraries"}),e.jsxs("div",{className:"flex flex-wrap justify-evenly gap-10 mt-10",children:[e.jsxs("button",{className:"btn flex flex-col justify-center w-[250px] h-[290px] rounded-2xl btn-outline btn-primary",onClick:()=>i(!0),children:[e.jsx(re,{className:"w-10"}),e.jsx("span",{children:"Create New Library"})]}),e.jsx(z,{popupId:"create_library_modal",isOpen:a,onClose:h,title:"Create A New Library",description:"Enter the name and description of the new library.",isLoading:n,isSuccess:t,isError:r,successMessage:"Library created successfully!",errorMessage:"Failed to create library.",customStyle:"w-[500px] p-5 rounded-2xl",onSuccess:g,children:e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsx("input",{type:"text",value:c,onChange:f=>m(f.target.value),placeholder:"Library Name",required:!0,className:"input w-full border-b-4 border-black shadow-2xl focus:ring-0 focus:border-black focus:border-b-4"}),e.jsx("textarea",{value:p,onChange:f=>x(f.target.value),placeholder:"Library Description",required:!0,className:"textarea w-full border-b-4 border-black shadow-2xl focus:ring-0 focus:border-black focus:border-b-4"}),e.jsx("button",{type:"submit",disabled:n,className:"btn btn-primary",children:n?"Creating...":"Create Library"})]})}),s?e.jsx(ue,{}):o.map(f=>e.jsx(V,{delay:.2,children:e.jsx(Ge,{title:f.name,description:f.description||"No description provided"})},f.id))]})]})]})},_e=`
# ð Hello Developer! Welcome to Code Library Beta ð

## What is Code Library?
Code Library is your go-to solution for building and documenting your code projects effortlessly. Our platform is designed to simplify your workflow with features like:

- **Simple Drag & Drop**: Upload up to 4 documents at a time with a quick drag and drop.
- **Future Features**: Soon, you'll be able to pass your entire project for thorough documentation.

## How to Get Started

### Step 1: Create Your First Structure
To begin, you need to create a structure for your project:

- **Default Structure**: Start with a default structure that organizes your code in a standard format.
- **Custom Structure During Upload**: You can also create a custom structure when you upload your files. This helps you decide exactly where and how your code will be stored.

### Step 2: Upload Your Files
Once your structure is set up, follow these steps:

- **Upload Files**: Drag and drop the files you want to document into the designated area.
- **Automatic Documentation**: After the files are uploaded, select them to initiate the documentation process. Our powerful AI will generate comprehensive documentation for your code.

## Other Functionalities

### Download Options
- **Single File Download**: Easily download any single file from your project.
- **Complete Directory Download**: With just a click, download an entire directory containing your project files and documentation.
- **Custom Code Download**: Get the generated code along with the documentation.

### Customizing Your Experience
To make the most out of Code Library, you can tailor the process to suit your needs:

- **Create Custom Prompts**: Customize or create your own prompts to guide the AI documentation process. Follow the instructions provided to set up and modify your prompts both before and after converting your documents.

## Additional Features Coming Soon
We're constantly working to enhance Code Library. Hereâs what you can look forward to:

- **Batch Project Documentation**: Soon, you'll be able to pass your entire project at once for batch processing and documentation.
- **Advanced AI Features**: Improved AI capabilities for even more detailed and accurate documentation.
- **Enhanced Customization Options**: More ways to customize the look, feel, and structure of your documentation.

## Tips for Using Code Library
- **Organize Your Files**: Before uploading, ensure your files are well-organized to make the documentation process smoother.
- **Review Generated Documentation**: Always review the AI-generated documentation for accuracy and completeness.
- **Provide Feedback**: Help us improve by providing feedback on your experience and any issues you encounter.

Welcome aboard, and happy coding! ð
`,pe=u.createContext(),T=()=>u.useContext(pe),Je=({children:o,repoName:s})=>{const[n,t]=u.useState([]),[r,a]=u.useState(!0),[i,c]=u.useState(_e),[m,p]=u.useState(""),[x,d]=u.useState(""),l=async(f="")=>{try{const b=await fetch(`/api/repository-contents?repo=${s}&path=${f}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});return b.ok?(await b.json()).contents:(console.error("Failed to fetch repository contents"),[])}catch(b){return console.error("Error:",b),[]}},h=async()=>{a(!0);const f=await l();t(f),a(!1)};u.useEffect(()=>{h()},[s]);const g=async f=>{if(f.path.endsWith(".md"))try{const y=await(await fetch(f.download_url)).text();c(y),d(f.download_url)}catch(b){console.error("Failed to fetch file content",b)}};return e.jsx(pe.Provider,{value:{contents:n,loading:r,selectedFileContent:i,uploadPath:m,downloadUrl:x,setUploadPath:p,handleFileClick:g,fetchContents:l,loadContents:h,setSelectedFileContent:c,repoName:s},children:o})},Qe=()=>{const{contents:o,fetchContents:s,setUploadPath:n,handleFileClick:t}=T(),[r,a]=u.useState({}),[i,c]=u.useState({}),m=async d=>{if(!r[d]&&!i[d]){const l=await s(d);c(h=>({...h,[d]:l}))}a(l=>({...l,[d]:!l[d]}))},p=d=>{m(d),n(d)},x=(d,l="")=>e.jsx("ul",{className:"rounded-lg w-full",children:d.map(h=>e.jsx("li",{children:h.type==="dir"?e.jsxs("div",{children:[e.jsxs("div",{onClick:()=>p(`${l}/${h.name}`),className:"flex items-center cursor-pointer",children:[r[`${l}/${h.name}`]?e.jsx(ae,{className:"w-4 h-4 mr-1"}):e.jsx(Y,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:h.name})]}),r[`${l}/${h.name}`]&&e.jsx("div",{className:"ml-4",children:x(i[`${l}/${h.name}`]||[],`${l}/${h.name}`)})]}):e.jsxs("span",{onClick:()=>t(h),style:{cursor:"pointer"},className:"flex items-center text-base-content/80",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"h-4 w-4 mr-1",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),h.name]})},h.path))});return e.jsx("div",{children:x(o)})},Xe=({selectedFiles:o,setSelectedFiles:s,setError:n})=>{const t=[".js",".jsx",".ts",".tsx",".py",".java",".rb",".php",".html",".css",".cpp",".c",".go",".rs",".swift",".kt",".m",".h",".cs",".json",".xml",".sh",".yml",".yaml",".vue",".svelte",".qwik",".astro"],a=l=>l.preventDefault(),i=async l=>{l.preventDefault();const h=l.dataTransfer.items,g=await c(h);d(g)},c=async l=>{const h=[];for(const g of l){const f=g.webkitGetAsEntry();if(f.isFile){const b=await new Promise(y=>f.file(y));p(b)?h.push(b):n("Invalid file type. Only .js, .jsx, and .tsx files are allowed.")}else f.isDirectory&&await m(f,h)}return h},m=(l,h)=>new Promise(g=>{l.isFile?l.file(f=>{p(f)&&h.push(f),g()}):l.isDirectory&&l.createReader().readEntries(async b=>{for(const y of b)await m(y,h);g()})}),p=l=>t.some(h=>l.name.endsWith(h)),x=l=>{const h=Array.from(l.target.files);d(h)},d=l=>{const h=l.filter(p);h.length+o.length>4?n("You can only upload a maximum of 4 files."):(s(g=>[...g,...h].slice(0,4)),n(""))};return e.jsxs("div",{onDragOver:a,onDrop:i,className:"p-4 border-2 border-dashed border-gray-300 rounded-md text-center cursor-pointer mb-4 h-[400px]  w-[400px] flex overflow-y-scroll items-center justify-center",children:[e.jsx("input",{type:"file",onChange:x,style:{display:"none"},accept:t.join(","),id:"fileUpload",multiple:!0}),e.jsx("label",{htmlFor:"fileUpload",className:"cursor-pointer ",children:o.length>0?e.jsx("div",{className:"flex flex-wrap gap-10  ",children:o.map(l=>e.jsxs("div",{children:[e.jsx(G,{className:"mx-auto w-8"}),e.jsx("p",{children:l.name})]},l.name))}):e.jsxs("div",{children:[e.jsx(le,{className:"mx-auto w-8"}),e.jsx("p",{children:"Drag & drop files or folders here, or click to select files"})]})})]})},he=u.createContext(),H=()=>u.useContext(he),bt=({children:o})=>{const[s,n]=u.useState([]),[t,r]=u.useState(!0);return u.useEffect(()=>{(async()=>{try{const i=await fetch("/api/get-instructions",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(i.ok){const c=await i.json();n(c.instructions)}else console.error("Failed to fetch instructions")}catch(i){console.error("Error:",i)}finally{r(!1)}})()},[]),console.log(s),e.jsx(he.Provider,{value:{userInstructions:s,loading:t,setUserInstructions:n},children:o})},Ze=({selectedFiles:o,setSelectedFiles:s,setError:n,error:t,handleClearFiles:r,handleSubmit:a,isLoading:i,newDirectory:c,setNewDirectory:m,selectedInstruction:p,setSelectedInstruction:x,dirView:d})=>{const{uploadPath:l,setUploadPath:h}=T(),{userInstructions:g,loading:f}=H();return e.jsxs("form",{onSubmit:a,className:"flex gap-10 justify-evenly",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Xe,{selectedFiles:o,setSelectedFiles:s,setError:n}),e.jsx("button",{type:"button",onClick:r,className:"btn bg-transparent top-0 absolute",children:e.jsx(ye,{className:"w-6"})})]}),e.jsxs("div",{className:"w-[35%]",children:[t&&e.jsx("p",{className:"text-red-500",children:t}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{children:"Directory Path:"}),e.jsx("input",{type:"text",value:l,readOnly:!0,onChange:b=>h(b.target.value),placeholder:"Selected Directory Path",className:"input w-full border-b-4 border-black shadow-2xl focus:ring-0 focus:border-black focus:border-b-4"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{children:"Create New Directory:"}),e.jsx("input",{type:"text",value:c,onChange:b=>m(b.target.value),placeholder:"New Directory Name",className:"input w-full border-b-4 border-black shadow-2xl focus:ring-0 focus:border-black focus:border-b-4"})]}),!f&&e.jsxs("div",{className:"mb-4 w-full",children:[e.jsx("h3",{className:"font-semibold",children:"Custom Instruction:"}),e.jsx("div",{className:"flex overflow-x-scroll gap-2 w-full mt-4",children:g.map(b=>e.jsx("button",{type:"button",className:`btn ${p===b.id?"btn-primary":"btn-secondary"}`,onClick:()=>x(b.id),children:b.name},b.id))})]}),e.jsx("button",{type:"submit",disabled:i||!(l||c),className:"btn btn-primary",children:i?"Uploading...":"Upload File"})]}),e.jsxs("div",{className:"flex flex-col flex-1 mb-4",children:[e.jsx("h3",{className:"font-semibold",children:"Select a Directory:"}),d]})]})},Ke=()=>{const{contents:o,fetchContents:s,setUploadPath:n}=T(),[t,r]=u.useState({}),[a,i]=u.useState({}),c=async x=>{if(!t[x]&&!a[x]){const d=await s(x);i(l=>({...l,[x]:d}))}r(d=>({...d,[x]:!d[x]}))},m=x=>{c(x),n(x)},p=(x,d="")=>e.jsx("ul",{className:"rounded-lg w-full",children:x.map(l=>e.jsx("li",{children:l.type==="dir"?e.jsxs("div",{children:[e.jsxs("div",{onClick:()=>m(`${d}/${l.name}`),className:"flex items-center cursor-pointer",children:[t[`${d}/${l.name}`]?e.jsx(ae,{className:"w-4 h-4 mr-1"}):e.jsx(Y,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:l.name})]}),t[`${d}/${l.name}`]&&e.jsx("div",{className:"ml-4",children:p(a[`${d}/${l.name}`]||[],`${d}/${l.name}`)})]}):null},l.path))});return e.jsx("div",{children:p(o)})},et=()=>{const{repoName:o,loadContents:s,uploadPath:n,setUploadPath:t}=T(),{isModalOpen:r,setIsModalOpen:a,isLoading:i,isSuccess:c,isError:m,handleLoading:p}=B(),[x,d]=u.useState([]),[l,h]=u.useState(""),[g,f]=u.useState(""),[b,y]=u.useState(""),{userInstructions:L}=H(),{userProfile:j}=W(),[I,N]=u.useState(0);u.useEffect(()=>{t(l?"":n)},[l,n,t]),u.useEffect(()=>{let w;if(r&&(j!=null&&j.id)){const v=window.location.protocol==="https:"?"wss:":"ws:",k=window.location.host,C=`${v}//${k}`;w=new WebSocket(C,j.id),console.log("User ID:",j.id),w.onopen=()=>{console.log("WebSocket connection established")},w.onmessage=F=>{const S=JSON.parse(F.data);S.progress!==void 0&&(console.log(`Upload progress: ${S.progress}%`),N(S.progress))},w.onerror=F=>{console.error("WebSocket error:",F)},w.onclose=()=>{console.log("WebSocket connection closed")}}return()=>{w&&w.close()}},[r,j]);const D=u.useCallback(async()=>{if(x.length===0||!(n||l))return;const w=new FormData;if(x.forEach(C=>w.append("files",C)),w.append("repository",o),w.append("path",n||l),b){const C=L.find(F=>F.id===b);w.append("instructionName",C.name),w.append("model",C.model),w.append("instructions",C.instructions)}const v=await fetch("/api/upload-file",{method:"POST",credentials:"include",body:w});if(!v.ok)throw new Error("Failed to upload file");const k=await v.json();console.log("File upload response:",k)},[x,n,l,o,b,L]),J=u.useCallback(w=>{w.preventDefault(),p(D)},[p,D]),Q=u.useCallback(()=>{d([]),f(""),t(""),h(""),a(!1),y(""),N(0)},[t,a]),X=u.useCallback(()=>{d([]),f("")},[]);return console.log(I),e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"btn btn-outline btn-secondary rounded-2xl",onClick:()=>a(!0),children:[e.jsx(le,{className:"w-8"}),"Add new File"]}),e.jsx(z,{popupId:"upload_file_modal",title:"Upload New File",description:"Select a file to upload to the repository.",isOpen:r,onClose:Q,isLoading:i,isSuccess:c,isError:m,successMessage:"File uploaded successfully!",errorMessage:"Failed to upload file.",onSuccess:s,customStyle:"w-[1050px] h-[90%] p-10 rounded-2xl",progress:I,children:e.jsx(Ze,{selectedFiles:x,setSelectedFiles:d,setError:f,error:g,handleClearFiles:X,handleSubmit:J,isLoading:i,newDirectory:l,setNewDirectory:h,selectedInstruction:b,setSelectedInstruction:y,dirView:e.jsx(Ke,{})})})]})},tt=({onSelect:o,selectedStructure:s})=>{const n=[{name:"Default Structure",structure:["introduction","ui","sections","pages","animations","helperFunctions"]},{name:"Extended Structure",structure:["docs","src","tests","config","scripts","assets"]}];return e.jsx("div",{className:"space-y-4",children:n.map((t,r)=>e.jsxs("div",{onClick:()=>o(t),className:`border p-4 rounded-lg cursor-pointer ${s&&s.name===t.name?"border-primary":""}`,children:[e.jsx("h3",{className:"font-bold mb-2",children:t.name}),e.jsx("ul",{className:"ml-5",children:t.structure.map(a=>e.jsxs("li",{className:"flex gap-2",children:[e.jsx(Y,{className:"w-4 h-4 mr-1"}),a]},a))})]},r))})},st=()=>{const{repoName:o,loadContents:s}=T(),{isModalOpen:n,setIsModalOpen:t,isLoading:r,isSuccess:a,isError:i,handleLoading:c}=B(),[m,p]=u.useState(null),x=async()=>{const g=await fetch("/api/create-folder",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({structure:m,repository:o})});if(g.ok)console.log(g);else throw console.error("Failed to create folder"),new Error("Failed to create folder")},d=g=>{g.preventDefault(),c(x)},l=g=>{p(g)},h=()=>{t(!1),s(),p(null)};return e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"btn btn-outline btn-neutral rounded-2xl",onClick:()=>t(!0),children:[e.jsx(ve,{className:"w-8"}),"Add Structure"]}),e.jsx(z,{popupId:"create_folder_modal",title:"Add New Folder",description:"Select a folder structure to add.",isOpen:n,onClose:h,isLoading:r,isSuccess:a,isError:i,successMessage:"Folder created successfully!",errorMessage:"Failed to create folder.",onSuccess:s,customStyle:"w-[500px] p-5 rounded-2xl",children:e.jsxs("form",{onSubmit:d,children:[e.jsx(tt,{onSelect:l,selectedStructure:m}),e.jsx("button",{type:"submit",disabled:r||!m,className:"btn btn-primary mt-4",children:r?"Creating...":"Create Folder"})]})})]})},U=({selectedFileContent:o,customStyle:s="px-10 pt-10 pb-32"})=>{const t=(a=>a.replace(/---\n[\s\S]*?title:.*\n[\s\S]*?description:.*\n[\s\S]*?pubDate:.*\n[\s\S]*?author:.*\n[\s\S]*?---\n/,""))(o),r={code({inline:a,className:i,children:c,...m}){const p=/language-(\w+)/.exec(i||"");return!a&&p?e.jsx(Se,{style:Fe,PreTag:"div",language:p[1],children:String(c).replace(/\n$/,""),...m}):e.jsx("code",{className:i||"",...m,children:c})}};return e.jsx("div",{className:`markdown-body w-full h-full bg-white border border-2 border-black overflow-y-scroll  ${s}`,children:e.jsx(Ne,{rehypePlugins:[Ce,ke],components:r,children:t})})},ot=({selectedFileContent:o,repoName:s})=>{const{userProfile:n}=W(),t=i=>{const c=i.match(/title:\s*'([^']+)'/);return c?c[1].replace(/\.tsx$/,".md"):"document.md"},r=()=>{if(o){const i=t(o),c=new Blob([o],{type:"text/markdown"}),m=window.URL.createObjectURL(c),p=document.getElementById("download-md-link");p.href=m,p.download=i,p.click(),window.URL.revokeObjectURL(m)}else alert("Please select a markdown file to download.")},a=()=>{const i=`https://github.com/${n.username}/${s}/archive/refs/heads/main.zip`;window.open(i,"_blank")};return e.jsxs(e.Fragment,{children:[e.jsx("a",{id:"download-md-link",style:{display:"none"}}),e.jsxs("div",{className:"relative group",children:[e.jsxs("a",{className:`btn btn-accent flex justify-center rounded-2xl cursor-pointer ${!o&&"pointer-events-none"}`,onClick:r,children:[e.jsx(G,{className:"w-8"}),e.jsx("span",{children:"Download MD"})]}),e.jsxs("div",{className:"absolute hidden group-hover:flex flex-col items-center bg-white border border-black shadow-lg p-2 rounded-lg mb-2 bottom-full pointer-events-auto",children:[e.jsx("a",{className:"btn btn-outline btn-primary w-full mb-2 cursor-pointer",onClick:r,children:"Get One File"}),e.jsx("button",{className:"btn btn-outline btn-primary w-full",onClick:a,children:"Download Complete Dir"})]})]})]})},nt=({selectedFileContent:o})=>{const s=t=>{const r=t.match(/title:\s*'([^']+)'/),a=r?r[1]:"code",i=t.indexOf("## Component Code");if(i===-1)return{title:a,code:""};const c=t.slice(i),m=/```[\s\S]*?```/g,x=(c.match(m)||[]).map(d=>d.replace(/```[a-z]*\n([\s\S]*?)\n```/,"$1").trim().replace(/```/g,"///")).join(`

`);return{title:a,code:x}},n=()=>{if(o){const{title:t,code:r}=s(o);if(!r){alert("No code blocks found after '## Component Code'.");return}const a=new Blob([r],{type:"text/plain"}),i=window.URL.createObjectURL(a),c=document.getElementById("download-code-link");c.href=i,c.download=t,c.click(),window.URL.revokeObjectURL(i)}else alert("Please select a markdown file to download code from.")};return e.jsxs(e.Fragment,{children:[e.jsx("a",{id:"download-code-link",style:{display:"none"}}),e.jsxs("a",{className:"btn btn-primary flex justify-center rounded-2xl cursor-pointer",onClick:n,children:[e.jsx(G,{className:"w-8"}),e.jsx("span",{children:"Download Code"})]})]})},xe=()=>{const s=ie().pathname.split("/").filter(t=>t),n=s.map((t,r)=>{const a=`/${s.slice(0,r+1).join("/")}`;return{label:t.charAt(0).toUpperCase()+t.slice(1),path:a}});return e.jsx("div",{className:"breadcrumbs text-lg",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsxs(E,{to:"/",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"h-4 w-4 stroke-current",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),"Home"]})}),n.map((t,r)=>e.jsx("li",{children:e.jsxs(E,{to:t.path,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"h-4 w-4 stroke-current",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),t.label]})},r))]})})},rt=({buttonTitle:o,modalId:s,title:n,description:t,children:r,customStyle:a="modal-box"})=>{const[i,c]=u.useState(!1);u.useEffect(()=>{const p=document.getElementById(s);i?p.showModal():p.close()},[s,i]);const m=()=>{c(!1)};return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>c(!0),className:"btn btn-secondary",children:o}),e.jsx("dialog",{id:s,className:"modal",children:e.jsxs("div",{className:`relative bg-base-200 border border-2 border-black shadow-2xl shadow-white/40 ${a}`,children:[e.jsxs("div",{className:"text-center my-10 space-y-1",children:[e.jsx("h2",{className:"font-bold text-3xl",children:n}),e.jsx("p",{className:"text-base-content/70 text-sm",children:t})]}),r,e.jsx("button",{type:"button",className:"absolute top-5 right-10",onClick:m,children:e.jsx(R,{className:"w-6"})})]})})]})},at=({selectedFileContent:o})=>{const[s,n]=u.useState(""),[t,r]=u.useState(!1),[a,i]=u.useState(!1),c=p=>{const x=p.match(/title:\s*'([^']+)'/),d=x?x[1]:"code",l=p.indexOf("## Component Code");if(l===-1)return{title:d,code:""};const h=p.slice(l),g=/```[\s\S]*?```/g,b=(h.match(g)||[]).map(y=>y.trim()).join(`

`);return{title:d,code:b}},m=async p=>{const{code:x}=c(o);if(!x){alert("No code found to transform");return}r(!0),i(!1);try{const d=await fetch("/ai/transform-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:x,transformInstructions:p})});if(!d.ok)throw new Error("Failed to transform code");const l=await d.json();console.log(l),n(l)}catch(d){console.error("Error transforming code:",d),i(!0)}finally{r(!1)}};return e.jsx(e.Fragment,{children:e.jsxs(rt,{buttonTitle:"Transform Code",modalId:"transformCode",customStyle:"w-screen  h-screen  overflow-y-scroll px-10 pb-20",children:[e.jsxs("div",{className:"w-full text-center mb-4",children:[e.jsx("h2",{className:"text-5xl font-bold",children:"Code Transformation"}),e.jsx("p",{className:"text-xs max-w-xl mx-atuo",children:"This feature allows you to transform code into different formats or optimize it based on your selected instructions. Please note that this is an experimental feature. Ensure to check and revise the transformed code before using it in production."})]}),e.jsxs("div",{className:"w-full flex gap-4 h-full overflow-y-scroll",children:[e.jsxs("div",{className:"w-[40%]",children:[e.jsx("h2",{className:"font-semibold mb-4",children:"Original Code"}),e.jsx(U,{selectedFileContent:c(o).code,customStyle:"bg-red-200"})]}),e.jsxs("div",{className:"flex flex-col self-center gap-4",children:[e.jsx("button",{className:"btn btn-primary",onClick:()=>m("Optimize the code"),disabled:t,children:t?"Optimizing...":"Optimize Code"}),e.jsx("button",{className:"btn btn-secondary",onClick:()=>m("Convert to React Native"),disabled:t,children:t?"Converting...":"React Native"}),e.jsx("button",{className:"btn btn-accent",onClick:()=>m("Convert to TypeScript"),disabled:t,children:t?"Converting...":"TypeScript Version"}),e.jsx("button",{className:"btn btn-neutral",onClick:()=>m("Convert to JavaScript"),disabled:t,children:t?"Converting...":"Non TypeScript Version"}),e.jsx("button",{className:"btn btn-error",onClick:()=>m("Convert to Angular"),disabled:t,children:t?"Converting...":"Angular"}),e.jsx("button",{className:"btn btn-success",onClick:()=>m("Convert to Vue"),disabled:t,children:t?"Converting...":"Vue"})]}),e.jsxs("div",{className:"w-[40%]",children:[a&&e.jsx("p",{className:"text-red-500",children:"Failed to transform code"}),s&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"font-semibold mb-4",children:"Transformed Code"}),e.jsx(U,{selectedFileContent:s,customStyle:"bg-green-200"})]})]}),e.jsx("div",{className:"h-32"})]})]})})},lt=()=>{const{repoName:o,selectedFileContent:s,loading:n}=T();return e.jsxs("div",{className:"flex bg-orange-50 h-screen",children:[e.jsx(_,{children:e.jsx("div",{children:n?e.jsx(ue,{}):e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-xl mb-2 font-bold",children:o}),e.jsx(Qe,{})]})})}),e.jsxs("div",{className:"flex flex-col bg-orange-50 flex-1 h-screen overflow-y-scroll px-20",children:[e.jsx(xe,{}),s&&e.jsx(U,{selectedFileContent:s})]}),e.jsx("div",{className:"fixed w-full bottom-0",children:e.jsxs("div",{className:"ml-[20%] flex w-full bg-base-100 p-4 mx-auto border-t-2 border-black gap-4",children:[e.jsx(st,{}),e.jsx(et,{}),e.jsx(ot,{selectedFileContent:s,repoName:o}),e.jsx(nt,{selectedFileContent:s}),e.jsx(at,{selectedFileContent:s})]})})]})},gt=()=>{const{repoName:o}=ce();return e.jsx(Je,{repoName:o,children:e.jsx(lt,{})})},it="/bot.svg",ct=({formState:o,handleInputChange:s,handleFileChange:n,handleExampleClick:t,promptExamples:r,handleRunTest:a,handleSaveInstructions:i,navigate:c})=>{const{selectedModel:m,instructionName:p,selectedExample:x}=o;return e.jsxs("div",{className:"p-4 w-[30%] bg-base-100 border-r-2 border-black shadow-2xl overflow-y-scroll",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>c(-1),className:"btn bg-base-100 border-0 shadow-none",children:e.jsx(Ee,{className:"w-10"})}),e.jsx("h1",{className:"text-xl font-bold",children:"Customize Prompt"})]}),e.jsxs("form",{className:"flex flex-col gap-4 mt-4",children:[e.jsxs("div",{className:"items-center",children:[e.jsx("img",{src:it,className:"w-10 mb-2",alt:"Bot"}),e.jsxs("select",{name:"selectedModel",className:"select w-full border-b-4 border-black shadow-2xl focus:ring-0 focus:border-black focus:border-b-4 max-w-xs",onChange:s,value:m,required:!0,children:[e.jsx("option",{disabled:!0,value:"",children:"Select Model"}),e.jsx("option",{value:"gpt-4o",children:"gpt-4o"}),e.jsx("option",{value:"gpt-4-turbo",children:"gpt-4-turbo"}),e.jsx("option",{value:"gpt-3.5-turbo",children:"gpt-3.5-turbo"})]})]}),e.jsxs("label",{className:"flex flex-col font-bold",children:["File Upload for Preview",e.jsx("input",{type:"file",className:"file-input w-full border-b-4 border-black shadow-2xl focus:ring-0 focus:border-black focus:border-b-4 max-w-xs",onChange:n,required:!0})]}),e.jsxs("label",{className:"flex flex-col font-bold",children:["Prompt Examples",e.jsx("div",{className:"flex max-w-md gap-2 overflow-x-scroll p-2",children:r.map((d,l)=>e.jsx("button",{type:"button",className:"btn btn-outline btn-secondary",onClick:()=>t(d),children:d},l))})]}),e.jsxs("label",{className:"flex flex-col font-bold",children:["Instruction Name",e.jsx("input",{type:"text",name:"instructionName",className:"input w-full border-b-4 border-black shadow-2xl focus:ring-0 focus:border-black focus:border-b-4 max-w-xs",value:p,onChange:s,required:!0})]}),e.jsxs("label",{className:"flex flex-col font-bold",children:["Instructions",e.jsx("textarea",{name:"selectedExample",className:"textarea w-full border-b-4 border-black shadow-2xl focus:ring-0 focus:border-black focus:border-b-4 max-w-md h-[150px]",placeholder:"Instructions",value:x,onChange:s,required:!0})]}),e.jsxs("div",{className:"flex w-full justify-between",children:[e.jsx("button",{type:"button",className:"btn btn-accent",onClick:i,children:"Save Instructions"}),e.jsx("button",{type:"submit",className:"btn btn-primary",onClick:a,children:"Run Test"})]})]})]})},dt=`
# ð ï¸ How to Create Your Custom Prompts and Instructions ð ï¸

## Introduction
Creating custom prompts and instructions allows you to tailor the documentation process to your specific needs. Follow the steps below to structure your file and ensure that all necessary information is included.

## File Structure
When creating your custom prompts and instructions, consider the following components:

### 1. Summary
Provide a brief overview of what the code does. This should include the main purpose and key functionalities.

### 2. Dependencies
List all the dependencies required for the code to run. Include version numbers and installation instructions.

### 3. Examples
Include example code snippets that demonstrate how to use the code. This helps users understand the practical application.

### 4. How the Code Works
Explain the logic and flow of the code. Detail important functions, classes, and methods to give a clear understanding of the inner workings.

### 5. Custom Instructions
You can customize the instructions in various languages such as Chinese, French, or Spanish. Specify your desired language and provide translated content if needed.

### 6. Model Selection
For generating documentation, you can use the GPT-3.5-Turbo model. Ensure to provide detailed instructions for the model, including:

- **Desired Output Format**: Specify that the output should be in markdown format.
- **Content Focus**: Instruct the AI to ignore any non-code-related content.
- **Instruction Testing**: Test different combinations of instructions and models to find what suits your needs best.

## Creating Custom Prompts
Follow these steps to create and test your custom prompts:

1. **Define Your Requirements**: Clearly outline what you need from the AI. Be specific about the structure and content.
2. **Set Up Instructions**: Write detailed instructions for the AI to follow. Ensure clarity and precision in your instructions.
3. **Test and Iterate**: Run tests with different instructions and model settings. Adjust based on the output quality and relevance.
4. **Finalize Prompts**: Once satisfied with the results, finalize your prompts and save them for future use.

## Example of Custom Prompts
Here is an example of how to structure your custom prompts file:

\`\`\`markdown
# Summary
This code is designed to scrape data from websites and store it in a database.

# Dependencies
- Python 3.8+
- Requests library (v2.25.1)
- BeautifulSoup (v4.9.3)

# Examples
\`\`\`python
import requests
from bs4 import BeautifulSoup

def scrape_website(url):
    response = requests.get(url)
    soup = BeautifulSoup(response.content, 'html.parser')
    return soup.title.text

print(scrape_website('https://example.com'))
\`\`\`

# How the Code Works
The code uses the Requests library to fetch the website content and BeautifulSoup to parse the HTML. It extracts and prints the title of the webpage.

# Custom Instructions
Please provide documentation in French.

# Model Selection
Use GPT-3.5-Turbo for generating markdown documentation. Ensure the content is code-focused.
\`\`\`

## Tips for Effective Custom Prompts
- **Be Specific**: The more detailed and specific your instructions, the better the AI can generate accurate documentation.
- **Use Clear Language**: Avoid ambiguity in your prompts to prevent misinterpretation by the AI.
- **Review and Revise**: Continuously review the output and refine your prompts for improved results.

By following these guidelines, you can create effective custom prompts and instructions to enhance your documentation process with Code Library.

Happy Documenting! ðâ¨
`,ut=()=>{const{repoName:o}=ce(),{userInstructions:s,setUserInstructions:n}=H(),t=ne(),r=ie(),{isLoading:a,isSuccess:i,isError:c,handleLoading:m,isModalOpen:p,setIsModalOpen:x,setIsError:d}=B(),[l,h]=u.useState({selectedFile:null,selectedExample:"",selectedModel:"",instructionName:""}),[g,f]=u.useState(dt),[b,y]=u.useState(""),j=new URLSearchParams(r.search).get("id");return u.useEffect(()=>{if(j){const w=s.find(v=>v.id===j);w&&h({selectedFile:null,selectedExample:w.instructions,selectedModel:w.model,instructionName:w.name})}},[j,s]),{formState:l,setFormState:h,markdownContent:g,promptExamples:["Write a detailed step by step of the code","Write the Md File in Spanish","Write 5 examples of using this component","Write the Code with Typescript and explain the new addition"],isLoading:a,isSuccess:i,isError:c,isModalOpen:p,setIsModalOpen:x,handleInputChange:w=>{const{name:v,value:k}=w.target;h(C=>({...C,[v]:k}))},handleFileChange:w=>{const v=w.target.files[0];v&&h(k=>({...k,selectedFile:v}))},handleExampleClick:w=>{h(v=>({...v,selectedExample:w}))},handleRunTest:async w=>{w.preventDefault(),y("runTest"),x(!0);const{selectedFile:v,selectedModel:k,selectedExample:C}=l;if(!v||!k||!C){d(!0);return}const F=new FormData;F.append("file",v),F.append("model",k),F.append("instructions",C);try{await m(async()=>{const S=await fetch("/ai/test-prompt",{method:"POST",credentials:"include",body:F});if(!S.ok)throw new Error("Failed to run test");const P=await S.json();f(P.data.prompt)})}catch(S){console.error("Error:",S)}},handleSaveInstructions:async()=>{y("saveInstructions"),x(!0);const{instructionName:w,selectedModel:v,selectedExample:k}=l;if(!w||!v||!k){d(!0);return}const C={id:j,instructionName:w,model:v,instructions:k,repoName:o},F=j?"/api/update-instruction":"/api/save-instructions";try{await m(async()=>{const S=await fetch(F,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(C)});if(!S.ok)throw new Error(`Failed to ${j?"update":"save"} instructions`);const P=await S.json();n(j?q=>q.map(Z=>Z.id===j?P.instruction:Z):q=>[...q,P.instruction])})}catch(S){console.error("Error:",S)}},currentAction:b,navigate:t,repoName:o}},wt=()=>{const{formState:o,markdownContent:s,promptExamples:n,isLoading:t,isSuccess:r,isError:a,isModalOpen:i,setIsModalOpen:c,handleInputChange:m,handleFileChange:p,handleExampleClick:x,handleRunTest:d,handleSaveInstructions:l,currentAction:h,navigate:g}=ut(),f=()=>{c(!1),h==="saveInstructions"&&!a&&g(-1)};return e.jsxs("div",{className:"flex bg-orange-50 h-screen",children:[e.jsx(z,{popupId:"loading_modal",isOpen:i,onClose:f,title:"Processing",description:"Please wait while we process your request.",isLoading:t,isSuccess:r,isError:a,successMessage:"Operation completed successfully!",errorMessage:"An error occurred.",customStyle:"w-[500px] p-5 rounded-2xl",onSuccess:f}),e.jsx(ct,{formState:o,handleInputChange:m,handleFileChange:p,handleExampleClick:x,promptExamples:n,handleRunTest:d,handleSaveInstructions:l,navigate:g}),e.jsx("div",{className:"flex flex-1 h-screen overflow-y-scroll px-20",children:s&&e.jsx(U,{selectedFileContent:s})})]})},mt=({id:o,name:s,instructions:n,model:t,onDelete:r})=>{const[a,i]=u.useState(!1),c=()=>{i(!a)},m=()=>{r(o)};return e.jsxs("div",{className:"flex gap-5 bg-white justify-between mt-4 rounded-2xl w-full px-6 border border-zinc-700 shadow-xl p-10 transition-all",children:[e.jsxs("div",{className:"flex flex-col grow shrink-0 basis-0 w-fit transition-all",children:[e.jsx("h3",{className:"text-lg font-medium leading-7 text-gray-900",children:s}),e.jsx("div",{className:`overflow-hidden transition-all duration-500 ${a?"max-h-96":"max-h-0"}`,children:e.jsx("p",{className:"mt-2 text-sm leading-6 text-slate-600 max-w-[500px]",children:n})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:t}),e.jsxs("div",{className:"space-x-4",children:[e.jsx("button",{className:"btn btn-error btn-sm",onClick:m,children:e.jsx(Ie,{className:"w-4"})}),e.jsx(E,{to:`/customizeprompt?id=${o}`,className:"btn btn-neutral btn-sm",children:e.jsx(De,{className:"w-4"})})]})]})]}),a?e.jsx(re,{className:"self-start w-6 cursor-pointer",onClick:c}):e.jsx(Le,{className:"self-start w-6 cursor-pointer",onClick:c})]})},jt=()=>{const{userInstructions:o,setUserInstructions:s}=H(),n=async t=>{console.log(t);try{(await fetch("/api/delete-instruction",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})})).ok?s(a=>a.filter(i=>i.id!==t)):console.error("Failed to delete instruction")}catch(r){console.error("Failed to delete instruction:",r)}};return o.length>0?e.jsxs("div",{className:"flex bg-orange-50 h-screen",children:[e.jsx(_,{}),e.jsxs("div",{className:"flex flex-col bg-orange-50 flex-1 h-screen px-20",children:[e.jsx("div",{className:"py-6",children:e.jsx(xe,{})}),e.jsx("div",{className:"h-[90%] overflow-y-scroll ",children:o.map(t=>e.jsx("div",{children:e.jsx(mt,{...t,onDelete:n},t.id)},t.id))})]})]}):e.jsx("div",{children:"No user default instructions"})};export{wt as C,ht as H,bt as I,gt as L,ft as M,jt as U,xt as a};
